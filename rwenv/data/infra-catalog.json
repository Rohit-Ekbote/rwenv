{
  "version": "1.0",
  "services": {
    "papi": {
      "description": "Platform API service",
      "namespace": "backend-services",
      "exposed": true,
      "address": "https://papi.<rwenv-name>.runwhen.com",
      "podSelector": "app=papi",
      "internalPort": 8080
    },
    "app": {
      "description": "Web application",
      "namespace": "frontend",
      "exposed": true,
      "address": "https://app.<rwenv-name>.runwhen.com",
      "podSelector": "app=app",
      "internalPort": 8080
    },
    "vault": {
      "description": "HashiCorp Vault",
      "namespace": "vault",
      "exposed": true,
      "address": "https://vault.<rwenv-name>.runwhen.com",
      "podSelector": "app.kubernetes.io/name=vault",
      "internalPort": 8200
    },
    "gitea": {
      "description": "Gitea Git server",
      "namespace": "gitea",
      "exposed": true,
      "address": "https://gitea.<rwenv-name>.runwhen.com",
      "podSelector": "app=gitea",
      "internalPort": 3000
    },
    "agentfarm": {
      "description": "Agent Farm service",
      "namespace": "backend-services",
      "exposed": true,
      "address": "https://agentfarm.<rwenv-name>.runwhen.com",
      "podSelector": "app=agentfarm",
      "internalPort": 8000
    }
  },
  "databases": {
    "core": {
      "description": "Core application database",
      "namespace": "backend-services",
      "secretName": "core-pguser-core",
      "pgbouncerHost": "core-pgbouncer.backend-services.svc.cluster.local",
      "database": "core",
      "username": "core"
    },
    "usearch": {
      "description": "Search database",
      "namespace": "backend-services",
      "secretName": "core-pguser-usearch",
      "pgbouncerHost": "core-pgbouncer.backend-services.svc.cluster.local",
      "database": "usearch",
      "username": "usearch"
    },
    "agentfarm": {
      "description": "Agent Farm database",
      "namespace": "databases",
      "secretName": "postgres-pguser-agentfarm",
      "pgbouncerHost": "core-pgbouncer.backend-services.svc.cluster.local",
      "database": "app_users",
      "username": "agentfarm"
    }
  }
}
